/* * ATM Example system - file BillsPanel.java     * * copyright (c) 2001 - Russell C. Bjork * */ package presentation;import java.awt.*;import java.awt.event.*;/** The GUI panel that simulates the reading of the ATM card's magnetic stripe *  by asking the user to enter the number */class CardPanel extends Panel{    /** Constructor     */    CardPanel()    {        setLayout(new GridLayout(0, 1, 0, 0));        setFont(new Font("Monospaced", Font.PLAIN, 14));                add(new Label("실제 ATM은 카드를 읽기 위해",                      Label.CENTER));        add(new Label("자기 띠 판독기를 가지고 있다.",                      Label.CENTER));        add(new Label("시뮬레이션을 위해",                      Label.CENTER));        add(new Label("직접 카드번호를 입력하시오.",                      Label.CENTER));        add(new Label("그리고 Enter 버튼을 클릭하시오.",                      Label.CENTER));        add(new Label("(유효하지 않은 정수거나 0보다 큰 정수가 아니면",                      Label.CENTER));        add(new Label("읽을 수 없는 카드로 간주한다.)",                      Label.CENTER));                        cardNumberField = new TextField(30);        cardNumberField.addActionListener(new ActionListener() {            public void actionPerformed(ActionEvent e)            {                synchronized(CardPanel.this)                {                    CardPanel.this.notify();                }            }        });        Panel cardNumberPanel = new Panel();        cardNumberPanel.add(cardNumberField);        add(cardNumberPanel);    }        /** Ask the customer to enter the number on the card     *     *  @return the number entered     */    synchronized int readCardNumber()    {        cardNumberField.setText("");                cardNumberField.requestFocus();        try        {            wait();        }        catch(InterruptedException e)        { }                        int cardNumber;        try        {            cardNumber = Integer.parseInt(cardNumberField.getText());            if (cardNumber <= 0)                cardNumber = -1;        }        catch(NumberFormatException e)        {            cardNumber = -1;        }                return cardNumber;    }    /** The field into which the card number is to be entered     */    private TextField cardNumberField;}